<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>InkFlow | Canvas</title>
    <script type="module" src="https://cdn.jsdelivr.net/npm/ionicons@latest/dist/ionicons/ionicons.esm.js"></script>
    <script nomodule src="https://cdn.jsdelivr.net/npm/ionicons@latest/dist/ionicons/ionicons.js"></script>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css" rel="stylesheet">
    <link href="Icons/bootstrap/css/bootstrap.min.css" rel="stylesheet">
    <link href="Icons/bootstrap-icons/bootstrap-icons.css" rel="stylesheet">
    <link rel="icon" href="Images/favicon.ico" type="image/x-icon">
    <link rel="stylesheet" href="Css/Theme.css">
    <link rel="stylesheet" href="Css/Canvas.css">
    <link rel="stylesheet" href="Css/CanvasResponsive.css">
</head>

<body>
    <canvas id="canvas"></canvas>

    <div id="sidebar" class="sidebar">
        <button class="sidebar-btn" id="sidebar-btn" title="Sidebar"><i class="bi bi-grid"></i></button>
    </div>

    <div id="sidebar-dropdown" class="sidebar-dropdown">
        <div class="sidebar-content">

            <div class="menu-card">
                <div class="menu-item" id="edit-menu">
                    <span>Edit</span>
                    <ion-icon name="chevron-forward-outline"></ion-icon>
                    <div class="edit-dropdown">
                        <div class="menu-item">
                            <span>Undo</span>
                            <span class="shortcut">Ctrl + Z</span>
                        </div>
                        <div class="menu-item">
                            <span>Redo</span>
                            <span class="shortcut">Ctrl + Y</span>
                        </div>
                        <div class="menu-divider"></div>
                        <div class="menu-item">
                            <span>Cut</span>
                            <span class="shortcut">Ctrl + X</span>
                        </div>
                        <div class="menu-item">
                            <span>Copy</span>
                            <span class="shortcut">Ctrl + C</span>
                        </div>
                        <div class="menu-item">
                            <span>Paste</span>
                            <span class="shortcut">Ctrl + V</span>
                        </div>
                        <div class="menu-divider"></div>
                        <div class="menu-item">
                            <span>Select All</span>
                            <span class="shortcut">Ctrl + A</span>
                        </div>
                        <div class="menu-item">
                            <span>Delete All</span>
                            <span class="shortcut">Ctrl + D</span>
                        </div>
                    </div>
                </div>
                <div class="menu-item" id="view-menu">
                    <span>View</span>
                    <ion-icon name="chevron-forward-outline"></ion-icon>
                    <div class="view-dropdown">
                        <div class="menu-item">
                            <span>Zoom In</span>
                            <span class="shortcut">Ctrl +</span>
                        </div>
                        <div class="menu-item">
                            <span>Zoom Out</span>
                            <span class="shortcut">Ctrl -</span>
                        </div>
                        <div class="menu-divider"></div>
                        <div class="menu-item">
                            <span>Reset Zoom</span>
                            <span class="shortcut">Ctrl 0</span>
                        </div>
                    </div>
                </div>
                <div class="menu-item" id="export-menu">
                    <span>Export</span>
                    <ion-icon name="chevron-forward-outline"></ion-icon>
                    <div class="export-dropdown">
                        <div class="menu-item">
                            <span>Download as PNG</span>
                            <span class="shortcut">Alt + P</span>
                        </div>
                        <div class="menu-item">
                            <span>Download as SVG</span>
                            <span class="shortcut">Alt + S</span>
                        </div>
                        <div class="menu-item">
                            <span>Download as JPG</span>
                            <span class="shortcut">Alt + J</span>
                        </div>
                        <div class="menu-divider"></div>
                        <div class="menu-item">
                            <span>Generate Link</span>
                            <span class="shortcut">Alt + L</span>
                        </div>
                    </div>
                </div>
                <div class="menu-item">
                    <span>Insert Embed</span>
                </div>
                <div class="menu-item">
                    <span>Upload Media</span>
                </div>
                <div class="menu-divider"></div>
                <div class="menu-item" id="layout-menu">
                    <span>Layout</span><span style="font-size: 0.8em; color: #888; margin-left: 2px;">coming soon</span>
                    <ion-icon name="chevron-forward-outline"></ion-icon>
                    <div class="layout-dropdown">
                        <div class="menu-item">
                            <span>Dynamic</span>
                            <span class="shortcut">Shift + D</span>
                        </div>
                        <div class="menu-item">
                            <span>Linear</span>
                            <span class="shortcut">Shift + L</span>
                        </div>
                    </div>
                </div>
                <div class="menu-item" id="language-menu">
                    <span>Language</span><span style="font-size: 0.8em; color: #888; margin-left: 2px;">coming
                        soon</span>
                    <ion-icon name="chevron-forward-outline"></ion-icon>
                    <div class="language-dropdown">
                        <div class="language-item">
                            <div class="language-name">Spanish</div>
                            <div class="language-icon">ðŸ‡ªðŸ‡¸</div>
                        </div>
                        <div class="language-item">
                            <div class="language-name">French</div>
                            <div class="language-icon">ðŸ‡«ðŸ‡·</div>
                        </div>
                        <div class="language-item">
                            <div class="language-name">German</div>
                            <div class="language-icon">ðŸ‡©ðŸ‡ª</div>
                        </div>
                        <div class="language-item">
                            <div class="language-name">Hindi</div>
                            <div class="language-icon">ðŸ‡®ðŸ‡³</div>
                        </div>
                        <div class="language-item">
                            <div class="language-name">Japanese</div>
                            <div class="language-icon">ðŸ‡¯ðŸ‡µ</div>
                        </div>
                        <div class="language-item">
                            <div class="language-name">Chinese</div>
                            <div class="language-icon">ðŸ‡¨ðŸ‡³</div>
                        </div>
                        <div class="language-item">
                            <div class="language-name">Korean</div>
                            <div class="language-icon">ðŸ‡°ðŸ‡·</div>
                        </div>
                        <div class="language-item">
                            <div class="language-name">Italian</div>
                            <div class="language-icon">ðŸ‡®ðŸ‡¹</div>
                        </div>
                        <div class="language-item">
                            <div class="language-name">Russian</div>
                            <div class="language-icon">ðŸ‡·ðŸ‡º</div>
                        </div>
                    </div>
                </div>
                <div class="menu-item" id="keyboard-menu">
                    <span>Keyboard Binding</span>
                    <ion-icon name="chevron-forward-outline"></ion-icon>
                    <div class="keyboard-dropdown">
                        <div class="keyboard-section">
                            <h4>Navigation</h4>
                            <div class="keyboard-item">
                                <span>Pan</span>
                                <span class="key-combo">X or 1</span>
                            </div>
                            <div class="keyboard-item">
                                <span>Pointer</span>
                                <span class="key-combo">Y or 2</span>
                            </div>
                        </div>
                        <div class="menu-divider"></div>
                        <div class="keyboard-section">
                            <h4>Tools</h4>
                            <div class="keyboard-item">
                                <span>Rectangle</span>
                                <span class="key-combo">R or 3</span>
                            </div>
                            <div class="keyboard-item">
                                <span>Circle</span>
                                <span class="key-combo">C or 4</span>
                            </div>
                            <div class="keyboard-item">
                                <span>Arrow</span>
                                <span class="key-combo">A or 5</span>
                            </div>
                            <div class="keyboard-item">
                                <span>Pencil</span>
                                <span class="key-combo">P or 6</span>
                            </div>
                            <div class="keyboard-item">
                                <span>Eraser</span>
                                <span class="key-combo">E or 7</span>
                            </div>
                            <div class="keyboard-item">
                                <span>Text</span>
                                <span class="key-combo">T or 8</span>
                            </div>
                        </div>
                        <div class="menu-divider"></div>
                        <div class="keyboard-section">
                            <h4>Actions</h4>
                            <div class="keyboard-item">
                                <span>Undo</span>
                                <span class="key-combo">Ctrl + Z</span>
                            </div>
                            <div class="keyboard-item">
                                <span>Redo</span>
                                <span class="key-combo">Ctrl + Y</span>
                            </div>
                            <div class="keyboard-item">
                                <span>Delete</span>
                                <span class="key-combo">Ctrl + D</span>
                            </div>
                            <div class="keyboard-item">
                                <span>Theme</span>
                                <span class="key-combo">Q or *</span>
                            </div>
                            <div class="keyboard-item">
                                <span>Search</span>
                                <span class="key-combo">/</span>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="menu-item" id="docs">
                    <span>Docs</span><span style="font-size: 0.8em; color: #888; margin-left: -12px;">coming soon</span>
                </div>
                <div class="menu-divider"></div>
                <div class="menu-item">Sign In<i class="bi bi-person" style=" color: #888; padding-left: 70%;"></i></div>
            </div>
        </div>
    </div>

    <div id="toolbar" class="toolbar">

        <button class="tool" id="select" title="Pan | X or 1"
            onclick="document.getElementById('instructions').textContent = 'Click and drag to move across canvas. Release when done.'">
            <ion-icon name="hand-right-outline"></ion-icon>
            <span style="font-size: 0.6em; position: relative; top: 4px; left:3px;">1</span>
        </button>

        <div class="toolbar-divider"></div>

        <button class="tool" id="pointer" title="Pointer | Y or 2"
            onclick="document.getElementById('instructions').textContent = 'Click and drag objects to move them around the canvas freely.'">
            <i class="bi bi-cursor" style="transform: rotate(350deg);"></i>
            <span style="font-size: 0.6em; position: relative; top: 4px; left:3px;">2</span>
        </button>
        <button class="tool" id="rectangle" title="Rectangle | R or 3"
            onclick="document.getElementById('instructions').textContent = 'Click, drag diagonally to create rectangle. Hold Shift for perfect square.'">
            <i class="far fa-square"></i>
            <span style="font-size: 0.6em; position: relative; top: 4px; left:3px;">3</span>
        </button>
        <button class="tool" id="circle" title="Circle | C or 4"
            onclick="document.getElementById('instructions').textContent = 'Click and drag outward to draw circle. Hold Shift for perfect circle.'">
            <i class="far fa-circle"></i>
            <span style="font-size: 0.6em; position: relative; top: 4px; left:3px;">4</span>
        </button>
        <button class="tool" id="arrowhead" title="Arrow | A or 5"
            onclick="document.getElementById('instructions').textContent = 'Click start point, drag to set direction and length of arrow.'">
            <i class="bi bi-arrow-right"></i>
            <span style="font-size: 0.6em; position: relative; top: 4px; left:3px;">5</span>
        </button>
        <button class="tool active" id="pencil" title="Pencil | P or 6"
            onclick="document.getElementById('instructions').textContent = 'Click and drag to draw freehand. Adjust width as needed.'">
            <i class="fas fa-pencil-alt"></i>
            <span style="font-size: 0.6em; position: relative; top: 4px; left:3px;">6</span>
        </button>
        <button class="tool" id="eraser" title="Eraser | E or 7"
            onclick="document.getElementById('instructions').textContent = 'Click and drag over elements to erase them from canvas.'">
            <i class="bi bi-eraser"></i>
            <span style="font-size: 0.6em; position: relative; top: 4px; left:3px;">7</span>
        </button>
        <button class="tool" id="text" title="Text | T or 8"
            onclick="document.getElementById('instructions').textContent = 'Click to add text. Type and click outside when done.'">
            <i class="bi bi-type" style="font-size: 22px;"></i>
            <span style="font-size: 0.6em; position: relative; top: 4px; left:3px;">8</span>
        </button>
        <button class="tool" id="image" title="Image | I or 9"
            onclick="document.getElementById('fileInput').click(); document.getElementById('instructions').textContent = 'Select an image to upload to canvas.'">
            <i class="bi bi-image"></i>
            <span style="font-size: 0.6em; position: relative; top: 4px; left:3px;">9</span>
        </button>
        <input type="file" id="fileInput" accept="image/*" style="display: none;">

        <div class="toolbar-divider"></div>

        <!-- <button class="tool" id="fill-color" title="Color Fill"
            onclick="document.getElementById('instructions').textContent = 'Fill Colors Inside Shapes'">
            <ion-icon name="color-fill-outline" style="font-size: 22px;"></ion-icon>
        </button> -->

        <button class="tool" id="search" title="search | /"
            onclick="document.getElementById('instructions').textContent = 'Search Tools and Colors'">
            <i class="bi bi-search"></i>
        </button>

        <div id="instructions">Choose any Tool. Click to get started</div>
    </div>

    <div id="theme-toggle" class="theme-toggle">
        <button class="theme-btn" id="theme-btn" title="Theme | Q or *"><ion-icon
                name="moon-outline"></ion-icon></button>
    </div>
    <div id="undoredo" class="undoredo">
        <button class="undo-btn" id="undo" title="Undo | Ctrl + Z"><i class="bi bi-arrow-90deg-left"></i></button>

        <div class="toolbar-divider"></div>

        <button class="redo-btn" id="redo" title="Redo | Ctrl + Y"><i class="bi bi-arrow-90deg-right"></i></button>
    </div>

    <div id="color-palate" class="color-palate">
        <button class="colorpalatebtn" id="colorpalatebtn" title="Colors & Shape" onclick="toggleFloatingTab()"><i
                class="bi bi-palette"></i></button>
    </div>

    <div id="floating-tab" class="floating-tab hidden">
        <div class="section-header">Border & Fill Colors</div>
        <div class="color-grid">
            <button class="color-btn" style="background: #ff0000"></button>
            <button class="color-btn" style="background: #00ff00"></button>
            <button class="color-btn" style="background: #ffff00"></button>
            <button class="color-btn" style="background: #ff00ff"></button>
            <button class="color-btn" style="background: #00ffff"></button>
            <button class="color-btn" style="background: #ff8800"></button>
            <button class="color-btn" style="background: #8800ff"></button>
            <button class="color-btn" style="background: #ff0088"></button>
            <button class="color-btn" style="background: #00ff88"></button>
            <button class="color-btn" style="background: #0088ff"></button>
            <button class="color-btn" style="background: #88ff00"></button>
            <button class="color-btn" style="background: #ffffff"></button>
            <button class="color-btn" style="background: #000000"></button>
            <button class="color-btn" style="background: #808080"></button>
            <button class="color-btn" style="background: #c0c0c0"></button>
            <button class="color-btn" style="background: #800000"></button>
            <button class="color-btn" style="background: #808000"></button>
            <button class="color-btn" style="background: #008000"></button>
            <button class="color-btn" style="background: #800080"></button>
            <button class="color-btn" style="background: #008080"></button>
            <button class="color-btn" style="background: #000080"></button>
            <button class="color-btn" style="background: #ffa500"></button>
            <button class="color-btn" style="background: #8b0000"></button>
            <button class="color-btn" style="background: #ff4500"></button>
            <button class="color-btn" style="background: #ff1493"></button>
            <button class="color-btn" style="background: #00ced1"></button>
            <button class="color-btn" style="background: #9400d3"></button>
            <button class="color-btn" style="background: #ff6347"></button>
            <button class="color-btn" style="background: #40e0d0"></button>
            <button class="color-btn" style="background: #ee82ee"></button>
            <button class="color-btn" style="background: #f5deb3"></button>
            <button class="color-btn" style="background: #9acd32"></button>
            <button class="color-btn" style="background: #808080"></button>
        </div>

        <div class="section-header">Width & Opacity</div>
        <div class="width-opacity-wrapper">
            <div class="width-grid">
                <button class="width-btn active" data-width="4">4px</button>
                <button class="width-btn" data-width="6">6px</button>
                <button class="width-btn" data-width="8">8px</button>
            </div>

            <div class="opacity-control">
                <input type="range" id="opacity-slider" class="opacity-slider" min="10" max="100" value="100">
            </div>
        </div>

        <div class="section-header">Shapes</div>
        <div class="shape-grid">
            <button class="shape-btn tool" id="triangle" title="Triangle"><i class="bi bi-triangle"></i></button>
            <button class="shape-btn tool" id="diamond" title="Diamond"><i class="bi bi-diamond"></i></button>
            <button class="shape-btn tool" id="pentagon" title="Pentagon"><i class="bi bi-pentagon"></i></button>
            <button class="shape-btn tool" id="hexagon" title="Hexagon"><i class="bi bi-hexagon"></i></button>
            <button class="shape-btn tool" id="octagon" title="Octagon"><i class="bi bi-octagon"></i></button>
            <button class="shape-btn tool" id="star" title="Star"><i class="bi bi-star"></i></button>
            <button class="shape-btn tool" id="heart" title="Heart"><i class="bi bi-heart"></i></button>
            <button class="shape-btn tool" id="parallelogram" title="Parallelogram"><i
                    class="bi bi-slash-lg"></i></button>
            <button class="shape-btn tool" id="arrowhead" title="Arrowhead"><i
                    class="bi bi-arrow-up-right"></i></button>
            <button class="shape-btn tool" id="line" title="Line"><i class="bi bi-dash-lg"></i></button>
            <button class="shape-btn tool" id="cross" title="Cross"><i class="bi bi-x-lg"></i></button>
            <button class="shape-btn tool" id="plus" title="Plus"><i class="bi bi-plus-lg"></i></button>
        </div>

        <div class="section-header">Fill Styles</div>
        <div class="fill-grid">
            <button class="fill-btn tool" id="fill-color" title="Color Fill">
                <ion-icon name="color-fill-outline" style="font-size: 22px;"></ion-icon>
            </button>
            <button class="fill-btn tool" id="fill-dot" title="Dot Fill">
                <img src="./Images/dot-fill.png" alt="Dot Fill" style="width: 22px; height: 22px;">
            </button>
            <button class="fill-btn tool" id="fill-pattern" title="Pattern Fill">
                <img src="./Images/diagonal-fill.png" alt="Pattern Fill" style="width: 22px; height: 22px;">
            </button>
        </div>
    </div>

    <div id="delete" class="delete">
        <button class="delete-btn" id="clear" title="Clear All | Ctrl + D"><i class="bi bi-trash3"></i></button>
    </div>
    <div id="zoom-toolbar" class="zoom-toolbar">
        <button class="zoom-in-btn" id="zoom-in" title="Zoom In | Ctrl +"><i class="bi bi-plus-lg"></i></button>
        <button class="zoom-out-btn" id="zoom-out" title="Zoom Out | Ctrl -"><i class="bi bi-dash-lg"></i></button>
        <div id="zoom-percentage">100%</div>
    </div>
    <textarea type="text" id="textInput" class="textInput" spellcheck="false" autocomplete="off" multiline></textarea>

    <div id="angleInfo"></div>

    <div id="search-dropdown" class="search-dropdown">
        <div class="search-input-wrapper">
            <input type="text" id="search-input" placeholder="Search tools and colors...">
            <i class="bi bi-x-lg" id="close-search"></i>
        </div>
        <div class="search-results">
            <!-- Results will be dynamically -->
        </div>
    </div>
    <script src="Icons/bootstrap/js/bootstrap.bundle.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/rough.js/2.1.1/rough.js"
        integrity="sha512-sZtT5AmC0DFqxtF/WG8fUVvsum8ZkIoHa08hQO5css2CRXZrvMt9DwMZ4hFNQZiJtwZnmc413p/msPhYMyjlPA=="
        crossorigin="anonymous" referrerpolicy="no-referrer"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/rough.js/2.1.1/rough.min.js"
        integrity="sha512-lTLYEWPPtelBz0gl9pujLocRWfHSKaULk5s8vrpzjBqPmmCTByfkhRRwBX8Vvq6hY8IKxATwI4q1qsqb9WtY1g=="
        crossorigin="anonymous" referrerpolicy="no-referrer"></script>
    <script src="Js/menu-items.js"></script>
    <script src="Js/Canvas.js"></script>
</body>

</html>