name: Process Issue
on: 
  issues:
    types: [closed]

jobs:
  process-issue:
    runs-on: ubuntu-latest
    steps:
      - name: Print issue details
        run: |
          echo "Issue Title: ${{ github.event.issue.title }}"

          # Extract values by using grep and trimming extra spaces
          project_name=$(echo "${{ github.event.issue.body }}" | grep -A1 '### Project Name' | tail -n1 | sed 's/^[ \t]*//')
          project_description=$(echo "${{ github.event.issue.body }}" | grep -A1 '### Project Description' | tail -n1 | sed 's/^[ \t]*//')
          project_url=$(echo "${{ github.event.issue.body }}" | grep -A1 '### Project URL' | tail -n1 | sed 's/^[ \t]*//')
          discord_username=$(echo "${{ github.event.issue.body }}" | grep -A1 '### Discord Username or Social Profile Link' | tail -n1 | sed 's/^[ \t]*//')
          github_repo=$(echo "${{ github.event.issue.body }}" | grep -A1 '### GitHub Repository URL' | tail -n1 | sed 's/^[ \t]*//')
          additional_info=$(echo "${{ github.event.issue.body }}" | grep -A1 '### Additional Information' | tail -n1 | sed 's/^[ \t]*//')
          contact_info=$(echo "${{ github.event.issue.body }}" | grep -A1 '### Contact Information' | tail -n1 | sed 's/^[ \t]*//')

          # Printing the extracted values
          echo "Project Name: $project_name"
          echo "Project Description: $project_description"
          echo "Project URL: $project_url"
          echo "Discord Username/Social Profile Link: $discord_username"
          echo "GitHub Repository URL: $github_repo"
          echo "Additional Information: $additional_info"
          echo "Contact Information: $contact_info"
